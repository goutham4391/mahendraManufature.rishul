jQuery(document).ready(function(e){function i(i){i.each(function(){var i=e(this);e(window).scrollTop()+.5*e(window).height()>i.offset().top&&i.addClass("is-visible")}),s=!1}function n(i){i.each(function(){var i=e(this);t(i.find('.cd-image-label[data-type="modified"]'),i.find(".cd-resize-img"),"left"),t(i.find('.cd-image-label[data-type="original"]'),i.find(".cd-resize-img"),"right")}),d=!1}function o(i,n,o,s,d,f,r,u,l,m){var c=i.pageX+n-o;c<s?c=s:c>d&&(c=d);var g=100*(c+o/2-f)/r+"%";e(".draggable").css("left",g).on("mouseup vmouseup",function(){e(this).removeClass("draggable"),u.removeClass("resizable")}),e(".resizable").css("width",g),t(m,u,"left"),t(l,u,"right"),a=!1}function t(e,i,n){"left"==n?e.offset().left+e.outerWidth()<i.offset().left+i.outerWidth()?e.removeClass("is-hidden"):e.addClass("is-hidden"):e.offset().left>i.offset().left+i.outerWidth()?e.removeClass("is-hidden"):e.addClass("is-hidden")}var a=!1,s=!1,d=!1,f=e(".cd-image-container");i(f),e(window).on("scroll",function(){s||(s=!0,window.requestAnimationFrame?requestAnimationFrame(function(){i(f)}):setTimeout(function(){i(f)},100))}),f.each(function(){var i=e(this);!function(e,i,n,t,s){e.on("mousedown vmousedown",function(d){e.addClass("draggable"),i.addClass("resizable");var f=e.outerWidth(),r=e.offset().left+f-d.pageX,u=n.offset().left,l=n.outerWidth(),m=u+10,c=u+l-f-10;e.parents().on("mousemove vmousemove",function(e){a||(a=!0,window.requestAnimationFrame?requestAnimationFrame(function(){o(e,r,f,m,c,u,l,i,t,s)}):setTimeout(function(){o(e,r,f,m,c,u,l,i,t,s)},100))}).on("mouseup vmouseup",function(n){e.removeClass("draggable"),i.removeClass("resizable")}),d.preventDefault()}).on("mouseup vmouseup",function(n){e.removeClass("draggable"),i.removeClass("resizable")})}(i.find(".cd-handle"),i.find(".cd-resize-img"),i,i.find('.cd-image-label[data-type="original"]'),i.find('.cd-image-label[data-type="modified"]'))}),e(window).on("resize",function(){d||(d=!0,window.requestAnimationFrame?requestAnimationFrame(function(){n(f)}):setTimeout(function(){n(f)},100))})});